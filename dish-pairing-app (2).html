<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pairing · Gerechten & Dranken</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --cream: #FAF7F2;
      --ink: #1A1A1A;
      --olive: #8B8B6E;
      --gold: #D4AF37;
      --wine: #722F37;
      --sage: #9CAF88;
      --shadow: rgba(0, 0, 0, 0.08);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, var(--cream) 0%, #F5F0E8 100%);
      color: var(--ink);
      min-height: 100vh;
      padding: 2rem;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(212, 175, 55, 0.05) 0%, transparent 70%);
      pointer-events: none;
      animation: float 20s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50% { transform: translate(-20px, -20px) rotate(10deg); }
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    header {
      text-align: center;
      margin-bottom: 4rem;
      animation: fadeInDown 0.8s ease-out;
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 4rem;
      font-weight: 300;
      color: var(--ink);
      margin-bottom: 0.5rem;
      letter-spacing: 0.05em;
    }

    .subtitle {
      font-size: 0.95rem;
      color: var(--olive);
      letter-spacing: 0.2em;
      text-transform: uppercase;
      font-weight: 400;
    }

    .card {
      background: white;
      border-radius: 2px;
      padding: 2.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 8px 30px var(--shadow), 0 2px 8px rgba(0, 0, 0, 0.04);
      border-left: 3px solid var(--gold);
      animation: fadeInUp 0.6s ease-out;
      animation-fill-mode: both;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 150px;
      height: 150px;
      background: linear-gradient(135deg, transparent, rgba(212, 175, 55, 0.03));
      pointer-events: none;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .card:nth-child(2) { animation-delay: 0.1s; }
    .card:nth-child(3) { animation-delay: 0.2s; }
    .card:nth-child(4) { animation-delay: 0.3s; }

    label {
      display: block;
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.3rem;
      color: var(--ink);
      margin-bottom: 0.8rem;
      font-weight: 600;
    }

    input, textarea {
      width: 100%;
      padding: 1rem;
      border: 2px solid #E8E4DC;
      border-radius: 2px;
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      background: var(--cream);
      color: var(--ink);
      transition: all 0.3s ease;
      position: relative;
      z-index: 1;
    }

    input:focus, textarea:focus {
      outline: none;
      border-color: var(--gold);
      background: white;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.1);
    }

    textarea {
      resize: vertical;
      min-height: 120px;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    button {
      background: linear-gradient(135deg, var(--wine) 0%, #5A2329 100%);
      color: white;
      border: none;
      padding: 1.2rem 3rem;
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      border-radius: 2px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 15px rgba(114, 47, 55, 0.3);
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    button:hover::before {
      width: 300px;
      height: 300px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(114, 47, 55, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      background: linear-gradient(135deg, var(--olive) 0%, #757568 100%);
      cursor: not-allowed;
      opacity: 0.7;
    }

    .suggestions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 3rem;
    }

    .pairing-section {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .section-header {
      font-family: 'Montserrat', sans-serif;
      font-size: 0.75rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--olive);
      margin-bottom: 0.5rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .section-header::before {
      content: '';
      display: inline-block;
      width: 8px;
      height: 8px;
      background: var(--sage);
      border-radius: 50%;
    }

    .section-header.alcoholic::before {
      background: var(--wine);
    }

    .suggestion-card {
      background: white;
      padding: 1.5rem;
      border-radius: 2px;
      box-shadow: 0 4px 15px var(--shadow);
      border-left: 3px solid var(--sage);
      animation: fadeInUp 0.5s ease-out;
      animation-fill-mode: both;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .suggestion-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px var(--shadow);
    }

    .suggestion-card.alcoholic {
      border-left-color: var(--wine);
    }

    .suggestion-card:nth-child(2) {
      animation-delay: 0.1s;
    }

    .suggestion-card:nth-child(3) {
      animation-delay: 0.2s;
    }

    .suggestion-card:nth-child(4) {
      animation-delay: 0.3s;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .drink-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      color: var(--ink);
      margin-bottom: 0.8rem;
      font-weight: 600;
      line-height: 1.3;
    }

    .drink-description {
      font-size: 0.95rem;
      line-height: 1.7;
      color: var(--ink);
      margin-bottom: 1rem;
    }

    .pairing-reason {
      font-size: 0.9rem;
      line-height: 1.6;
      color: var(--olive);
      padding-top: 1rem;
      border-top: 1px solid #E8E4DC;
      font-style: italic;
    }

    .loading {
      text-align: center;
      padding: 3rem;
      color: var(--olive);
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.3rem;
    }

    .spinner {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 3px solid rgba(212, 175, 55, 0.2);
      border-top-color: var(--gold);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .error {
      background: #FFF5F5;
      border-left: 3px solid #C53030;
      color: #742A2A;
      padding: 1.5rem;
      border-radius: 2px;
      margin-top: 2rem;
      font-size: 0.95rem;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2.5rem;
      }

      .suggestions {
        grid-template-columns: 1fr;
        gap: 2.5rem;
      }

      body {
        padding: 1rem;
      }

      .card {
        padding: 1.5rem;
      }

      .suggestion-card {
        padding: 1.25rem;
      }

      .drink-name {
        font-size: 1.3rem;
      }

      .drink-description {
        font-size: 0.9rem;
      }

      .pairing-reason {
        font-size: 0.85rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Pairing</h1>
      <p class="subtitle">Gerechten & Dranken</p>
    </header>

    <div class="card">
      <label for="dish-description">Wat eet je?</label>
      <textarea 
        id="dish-description" 
        placeholder="Beschrijf de smaken, bereidingswijze, ingrediënten en presentatie van het gerecht..."
      ></textarea>
    </div>

    <div class="card">
      <button id="generate-btn">Genereer Pairings</button>
    </div>

    <div id="results"></div>
  </div>

  <script>
    const dishDescInput = document.getElementById('dish-description');
    const generateBtn = document.getElementById('generate-btn');
    const resultsDiv = document.getElementById('results');

    generateBtn.addEventListener('click', async () => {
      const dishDescription = dishDescInput.value.trim();

      if (!dishDescription) {
        resultsDiv.innerHTML = '<div class="error">Vul alsjeblieft de beschrijving van het gerecht in.</div>';
        return;
      }

      generateBtn.disabled = true;
      generateBtn.textContent = 'Bezig met genereren...';
      
      resultsDiv.innerHTML = `
        <div class="loading">
          <div class="spinner"></div>
          <p>Aan het componeren van perfecte pairings...</p>
        </div>
      `;

      try {
        const response = await fetch('https://api.anthropic.com/v1/messages', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            model: 'claude-sonnet-4-20250514',
            max_tokens: 1000,
            messages: [{
              role: 'user',
              content: `Je bent een expert sommelier en mixologist. Ik heb het volgende gerecht:

${dishDescription}

Geef me 3 non-alcoholische en 3 alcoholische drankpairings in ALLEEN JSON formaat, zonder enige uitleg of markdown backticks.

De non-alcoholische opties moeten indrukwekkend zijn en geschikt voor een formeel diner. Varieer in stijl (bijv. mocktail, artisanale limonade, tea pairing, etc).

De alcoholische opties moeten variëren (bijv. wijn, cocktail, bier, sake, etc).

Retourneer ALLEEN dit JSON object zonder enige andere tekst:
{
  "nonAlcoholic": [
    {
      "name": "Naam van de drank",
      "description": "Wat is deze drank en hoe wordt het geserveerd",
      "pairing": "Waarom past dit perfect bij het gerecht"
    },
    {
      "name": "Naam van de drank",
      "description": "Wat is deze drank en hoe wordt het geserveerd",
      "pairing": "Waarom past dit perfect bij het gerecht"
    },
    {
      "name": "Naam van de drank",
      "description": "Wat is deze drank en hoe wordt het geserveerd",
      "pairing": "Waarom past dit perfect bij het gerecht"
    }
  ],
  "alcoholic": [
    {
      "name": "Naam van de drank",
      "description": "Wat is deze drank en hoe wordt het geserveerd",
      "pairing": "Waarom past dit perfect bij het gerecht"
    },
    {
      "name": "Naam van de drank",
      "description": "Wat is deze drank en hoe wordt het geserveerd",
      "pairing": "Waarom past dit perfect bij het gerecht"
    },
    {
      "name": "Naam van de drank",
      "description": "Wat is deze drank en hoe wordt het geserveerd",
      "pairing": "Waarom past dit perfect bij het gerecht"
    }
  ]
}`
            }]
          })
        });

        if (!response.ok) {
          const data = await response.json();
          throw new Error(data.error?.message || 'Er ging iets mis bij het genereren van pairings');
        }

        const data = await response.json();

        let textContent = data.content
          .filter(item => item.type === 'text')
          .map(item => item.text)
          .join('\n')
          .trim();

        // Remove markdown code fences if present
        textContent = textContent.replace(/```json\s*/g, '').replace(/```\s*/g, '').trim();

        const pairings = JSON.parse(textContent);

        // Create non-alcoholic cards
        const nonAlcoholicCards = pairings.nonAlcoholic.map(drink => `
          <div class="suggestion-card">
            <h3 class="drink-name">${drink.name}</h3>
            <p class="drink-description">${drink.description}</p>
            <p class="pairing-reason">${drink.pairing}</p>
          </div>
        `).join('');

        // Create alcoholic cards
        const alcoholicCards = pairings.alcoholic.map(drink => `
          <div class="suggestion-card alcoholic">
            <h3 class="drink-name">${drink.name}</h3>
            <p class="drink-description">${drink.description}</p>
            <p class="pairing-reason">${drink.pairing}</p>
          </div>
        `).join('');

        resultsDiv.innerHTML = `
          <div class="suggestions">
            <div class="pairing-section">
              <h2 class="section-header">Non-Alcoholisch</h2>
              ${nonAlcoholicCards}
            </div>
            <div class="pairing-section">
              <h2 class="section-header alcoholic">Alcoholisch</h2>
              ${alcoholicCards}
            </div>
          </div>
        `;

      } catch (error) {
        console.error('Error:', error);
        resultsDiv.innerHTML = `
          <div class="error">
            <strong>Fout bij het genereren van pairings:</strong><br>
            ${error.message}
          </div>
        `;
      } finally {
        generateBtn.disabled = false;
        generateBtn.textContent = 'Genereer Pairings';
      }
    });
  </script>
</body>
</html>
